<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Auto Clicker</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body class="bg-light">
    <div class="container text-center mt-4">
        <h2>üñ±Ô∏è Auto Clicker</h2>
        <h5 id="status" class="text-danger">üî¥ Stopped</h5>

        <label class="form-label mt-3">Clicks Per Second:</label>
        <input type="range" min="1" max="50" value="{{ click_speed }}" id="speed-slider" class="form-range">
        <p id="speed-label">{{ click_speed }} CPS</p>

        <button id="toggle-btn" class="btn btn-primary">‚ñ∂ Start (Press 'S')</button>
    </div>

    <script>
        function toggleClicker() {
            $.post("/toggle", function(data) {
                // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
                if (data.status === "running") {
                    $("#status").text("üü¢ Running").removeClass("text-danger").addClass("text-success");
                    $("#toggle-btn").text("‚è∏ Stop (Press 'S')").removeClass("btn-primary").addClass("btn-danger");
                } else {
                    $("#status").text("üî¥ Stopped").removeClass("text-success").addClass("text-danger");
                    $("#toggle-btn").text("‚ñ∂ Start (Press 'S')").removeClass("btn-danger").addClass("btn-primary");
                }

                // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤ CPS
                $("#speed-label").text(data.click_speed + " CPS");
            });
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° toggle
        $("#toggle-btn").click(toggleClicker);
        
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° 's' ‡∏ö‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î
        $(document).keypress(function(event) {
            if (event.key.toLowerCase() === 's') {
                toggleClicker();
            }
        });

        // ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß
        $("#speed-slider").on("input", function() {
            let speed = $(this).val();
            $("#speed-label").text(speed + " CPS");
            $.post("/update_speed", {speed: speed}, function(data) {
                // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏´‡∏°‡πà
                $("#speed-label").text(data.click_speed + " CPS");
            });
        });
    </script>
</body>
</html>
